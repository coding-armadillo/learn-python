<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Virtual Environment | Learn Python</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/learn-python/logo.png">
    <link rel="manifest" href="/learn-python/manifest.json">
    <link rel="apple-touch-icon" href="/learn-python/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/learn-python/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/learn-python/assets/css/0.styles.236a5a48.css" as="style"><link rel="preload" href="/learn-python/assets/js/app.973ee2f8.js" as="script"><link rel="preload" href="/learn-python/assets/js/2.c1897243.js" as="script"><link rel="preload" href="/learn-python/assets/js/33.c0091fe0.js" as="script"><link rel="preload" href="/learn-python/assets/js/5.42e74fff.js" as="script"><link rel="prefetch" href="/learn-python/assets/js/10.1a9cbcf7.js"><link rel="prefetch" href="/learn-python/assets/js/11.e04e8cf4.js"><link rel="prefetch" href="/learn-python/assets/js/12.7c46e41a.js"><link rel="prefetch" href="/learn-python/assets/js/13.b8edc029.js"><link rel="prefetch" href="/learn-python/assets/js/14.9dcaec29.js"><link rel="prefetch" href="/learn-python/assets/js/15.34de98dd.js"><link rel="prefetch" href="/learn-python/assets/js/16.26d0cc3c.js"><link rel="prefetch" href="/learn-python/assets/js/17.197e1d45.js"><link rel="prefetch" href="/learn-python/assets/js/18.e7bceb57.js"><link rel="prefetch" href="/learn-python/assets/js/19.85274575.js"><link rel="prefetch" href="/learn-python/assets/js/20.37e94e9c.js"><link rel="prefetch" href="/learn-python/assets/js/21.7adc6bf1.js"><link rel="prefetch" href="/learn-python/assets/js/22.139a6bfe.js"><link rel="prefetch" href="/learn-python/assets/js/23.79f1242a.js"><link rel="prefetch" href="/learn-python/assets/js/24.7b3c4e73.js"><link rel="prefetch" href="/learn-python/assets/js/25.02ecded5.js"><link rel="prefetch" href="/learn-python/assets/js/26.71f4c9f5.js"><link rel="prefetch" href="/learn-python/assets/js/27.53a4c2e1.js"><link rel="prefetch" href="/learn-python/assets/js/28.8883db2d.js"><link rel="prefetch" href="/learn-python/assets/js/29.0bb63eea.js"><link rel="prefetch" href="/learn-python/assets/js/3.bee10210.js"><link rel="prefetch" href="/learn-python/assets/js/30.db00068b.js"><link rel="prefetch" href="/learn-python/assets/js/31.c0bad81c.js"><link rel="prefetch" href="/learn-python/assets/js/32.5af6ed10.js"><link rel="prefetch" href="/learn-python/assets/js/34.a0a1cd6d.js"><link rel="prefetch" href="/learn-python/assets/js/35.81368c61.js"><link rel="prefetch" href="/learn-python/assets/js/4.8b99c02e.js"><link rel="prefetch" href="/learn-python/assets/js/6.a7b215b9.js"><link rel="prefetch" href="/learn-python/assets/js/7.baccc264.js"><link rel="prefetch" href="/learn-python/assets/js/8.f1bf43e4.js"><link rel="prefetch" href="/learn-python/assets/js/9.777b3b9e.js">
    <link rel="stylesheet" href="/learn-python/assets/css/0.styles.236a5a48.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-python/" class="home-link router-link-active"><img src="/learn-python/logo.png" alt="Learn Python" class="logo"> <span class="site-name can-hide">Learn Python</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/learn-python/lessons/" class="nav-link router-link-active">
  Lessons
</a></div><div class="nav-item"><a href="/learn-python/tags/" class="nav-link">
  Tags
</a></div> <a href="https://github.com/coding-armadillo/learn-python" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/learn-python/lessons/" class="nav-link router-link-active">
  Lessons
</a></div><div class="nav-item"><a href="/learn-python/tags/" class="nav-link">
  Tags
</a></div> <a href="https://github.com/coding-armadillo/learn-python" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Virtual Environment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-python/lessons/virtual-env.html#why-we-need-virtual-environments" class="sidebar-link">Why we need virtual environments</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/learn-python/lessons/virtual-env.html#the-venv-module" class="sidebar-link">The venv module</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-python/lessons/virtual-env.html#create-a-virtual-environment" class="sidebar-link">Create a virtual environment</a></li><li class="sidebar-sub-header"><a href="/learn-python/lessons/virtual-env.html#activate-a-virtual-environment" class="sidebar-link">Activate a virtual environment</a></li><li class="sidebar-sub-header"><a href="/learn-python/lessons/virtual-env.html#use-pip" class="sidebar-link">Use pip</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="virtual-environment"><a href="#virtual-environment" class="header-anchor">#</a> Virtual Environment</h1> <p>We talked about <a href="/learn-python/lessons/modules.html#python-package-index">Python Package Index (PyPi)</a> earlier before.
There are tons of useful libraries in the Python community.
Today we are going to learn a practical way to use them in our project.</p> <h2 id="why-we-need-virtual-environments"><a href="#why-we-need-virtual-environments" class="header-anchor">#</a> Why we need virtual environments</h2> <p>When we use the <code>pip</code> command to install a library from PyPi, we are going to install it in the system Python environment if not specified otherwise. Such exercise could be problematic if we have multiple projects relying on the same library yet requiring different versions of the same library.
If we only manage the libraries by the single system-wise Python environment, we would only be able to meet the needs for a or only few projects. The conflict cannot be solved.</p> <p>In light of the need to manage different libraries for different projects, we normally use a virtual environment to create an isolated environment for Python project. It allows each project to define its own dependencies (a set of libraries),regardless of what other projects need.</p> <div class="custom-block tip"><p class="custom-block-title">Semantic Versioning</p> <p>When we look for a library in PyPi, we may notice it has version number.</p> <p>Say, <code>Django 3.2.9</code>. It means the current version of the <code>Django</code> library is <code>3.2.9</code> where</p> <p>3 is the major version, 2 is minor version, and 9 is the path version.</p> <p>Given a version number MAJOR.MINOR.PATCH, the number would increment:</p> <ul><li>MAJOR version when you make incompatible API changes,</li> <li>MINOR version when you add functionality in a backwards compatible manner, and</li> <li>PATCH version when you make backwards compatible bug fixes.</li></ul> <p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.</p></div> <h2 id="the-venv-module"><a href="#the-venv-module" class="header-anchor">#</a> The <code>venv</code> module</h2> <p>There are a handful of famous libraries to handle virtual environments.
We are going to use <a href="https://docs.python.org/3/tutorial/venv.html" target="_blank" rel="noopener noreferrer"><code>venv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that comes with Python.</p> <h3 id="create-a-virtual-environment"><a href="#create-a-virtual-environment" class="header-anchor">#</a> Create a virtual environment</h3> <p>To create a virtual environment, simply run the <code>venv</code> module as a script with the desired name for the virtual environment.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>python <span class="token parameter variable">-m</span> venv venv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>In the example code above <code>python -m venv</code> is to execute the <code>venv</code> module in command line, the second <code>venv</code> is the name fo the virtual environment. In convention, we normally use <code>venv</code> as the name for a virtual environment.
It will create a folder with the name <code>venv</code> in the directory where you execute the command from.</p> <h3 id="activate-a-virtual-environment"><a href="#activate-a-virtual-environment" class="header-anchor">#</a> Activate a virtual environment</h3> <p>In order to use the virtual environment, we have to activate it in the command line.</p> <p>On Windows, run:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>.<span class="token punctuation">\</span>venv<span class="token punctuation">\</span>Scripts<span class="token punctuation">\</span>activate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>On MacOS, run:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">source</span> venv/bin/activate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>We should be able to see <code>(venv)</code> indicator attached to our command line when the virtual environment is activated.</p> <p>We can also deactivate the virtual environment by:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>deactivate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="use-pip"><a href="#use-pip" class="header-anchor">#</a> Use <code>pip</code></h3> <p>After activation, when we fire the <code>pip</code> command, all libraries would be installed in the <code>venv</code> folder locally.</p> <p>To install a library <code>xxx</code>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pip <span class="token function">install</span> xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To show what libraries have been installed:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pip list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>or</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pip freeze
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>pip freeze</code> would generate in the <code>pip</code>-readable format so that if we redirect the output to a file, we can use that file to clone a virtual environment.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pip freeze <span class="token operator">&gt;</span> requirements.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Then, use the <code>requirements.txt</code> on a new virtual environment</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/coding-armadillo/learn-python/edit/main/lesson/lessons/virtual-env.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/8/2023, 5:11:22 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learn-python/lessons/classes-objects.html" class="prev">
        Classes and Objects
      </a></span> <span class="next"><a href="/learn-python/lessons/advent-of-code.html">
        Advent of Code
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/learn-python/assets/js/app.973ee2f8.js" defer></script><script src="/learn-python/assets/js/2.c1897243.js" defer></script><script src="/learn-python/assets/js/33.c0091fe0.js" defer></script><script src="/learn-python/assets/js/5.42e74fff.js" defer></script>
  </body>
</html>
